---
title: "Betfair_UKPolitics_ExploratoryAnalysis"
output:
  html_document:
    keep_md: yes
    toc: yes
---

### About

Some Exploratory Analysis of Betfair_UKPolitics_Markets.

```{r, warning = FALSE}
root_dir <- getwd()
setwd("./Codes/Exploratory Analysis/")
source("Markets_Name_Matched_Analysis.R")
source("Markets_History_Graph.R")
setwd(root_dir)
```

### Number and Type of Markets

```{r, echo = FALSE}
paste("# Markets", length(unique(all_odds_data$Market)), sep = " = ")
paste("# Constituency Markets", length(constituency_Markets), sep = " = ")
paste("# Other Markets", length(other_Markets), sep = " = ")
```

### Constituency Markets

Lots of Constituency Markets are not active yet. Just `r dim(data_matched_constituencies)[1]` (out of `r length(constituency_Markets)`) have non-zero "Matched" value. Those are:

```{r}
data_matched_constituencies
```

Let's take a look at the history of (implied) probability of various outcomes of these constituencies. Here I use $\frac{1}{2}(\frac{1}{BACK}+\frac{1}{Lay})$ as "Probability".
```{r}
major_constituency_markets_history_plots_withoutErrorbar
```

How accurate those numbers are? We also need a measure of "error". Market implies that the probability is something in between $\frac{1}{BACK}$ and $\frac{1}{LAY}$. Let's use those extremes to add errorbars to the graphs:
```{r}
major_constituency_markets_history_plots_withErrorbar
```

Huge errorbars. Markets are not liquid enough (yet). The good news is the most important outcomes have smallish errorbars (like UKIP@South_Thanet or LibDem@Sheffield_hallam). Time to switch to ternary graphs?

### Other Markets

Let's take a look at non-constituency markets:

```{r}
data_matched_other
```

Let's take a look at the dynamics of the major ones.

```{r}
major_other_markets_history_plots_withoutErrorbar
```

Same graphs with errorbar:

```{r}
major_other_markets_history_plots_withErrorbar
```

# ternary constituencies





